language: php
php:
- 7.2
before_script:
- composer self-update
- composer install --prefer-source --no-interaction
- mkdir -p ./build/coverage
- wget https://github.com/infection/infection/releases/download/0.13.0/infection.phar
- wget https://github.com/infection/infection/releases/download/0.13.0/infection.phar.asc
- gpg --keyserver hkps.pool.sks-keyservers.net --recv-keys 493B4AA0
- gpg --with-fingerprint --verify infection.phar.asc infection.phar
- chmod +x infection.phar
script:
- composer travis
- "./infection.phar --min-msi=48 --threads=4"
after_script:
- wget https://scrutinizer-ci.com/ocular.phar
- php ocular.phar code-coverage:upload --format=php-clover ./build/coverage/clover.xml
matrix:
  fast_finish: true
notifications:
  on_success: never
  on_failure: always
env:
  global:
  - secure: fWcdQAj5KQrKfFkrBLOB5TpCGVfRrWYaVZJcMy4V8ov5xhSMIY2bdmaDC9VncdYAAyfM2VrD7d1mgxdhcDV9W/lwGTDUHLcB1sZUjL0miZHNVAPlScU7ujkntTX/y4p857DIgZAy9BPwfRhKo5kAnP8s2JH1Kl0tjvOQOZGyaaIwb8HiyUPMC3N3dwm+oNEkRfkx2kJTDKaNZ1YRENDmuS7SF39Su+lrZUYQjzmKCqIWDg4KORRVU+B4+jOZrB3atHXisMFAkcJrnN5Dg3P8WGurtNi4YXuobu3/7UrogAvqdorLJ31j8tWDD+S+XMT72fgU5PokmUcdGkagi7cTK0RpSztLHXpqaqKTPVOk76GNIx0besxSJnVy5onP9J3gF0iUltbWOpdrF0WynqcGbJLXcCySW8PySJLMuzn+uAj9SpbPB2ulLePZl0NaToNLNQQUoHL9fRB0Xpl3wIKYXDLk1sxa/zErGRsIOXfd7TZEpG5PytuNFKqGKqJms6ip1cGERn/45Rpq+XqqKy6DpaP8dXiNbCg+18EzsQgLG84biVE486lijznaoFpaq0qms4L/GCEFeD+Trm/pp/4BjTTf9cFupOBKpa0J/KTxpMkso92qNl9J0HkU8eQ1XQ6uTP4WqwuzuhKjUt+Y3KzwBa8dDKUjSdsrzcplN36HWmI=
