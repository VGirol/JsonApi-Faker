language: php
php:
- 7.2
before_script:
- composer self-update
- composer install --prefer-source --no-interaction
- mkdir -p ./build/coverage
script:
- composer travis
after_script:
- wget https://scrutinizer-ci.com/ocular.phar
- php ocular.phar code-coverage:upload --format=php-clover ./build/coverage/clover.xml
matrix:
  fast_finish: true
notifications:
  on_success: never
  on_failure: always
env:
  global:
  # secure key for infection badge (see https://infection.github.io/guide/mutation-badge.html)
  - secure: pVSpezUdeYIIOcRlQJabud+qhZ60tvSBLS3VS2mszKs9ujhrJPBv4fd+ihjfZ9k4KLlWoZQnVELGfyhojsTd6w+dEuP6ae5Kepd8QHN+isA6gn5DViE3SUEn4mL0qUU1Fm3EIZzZZI+QTaf8QCO3c/vMka160V84lTLdCGYrmlx8vLpf9PKxmcH9AX0yyGo2VoJjiQF9B9/F+5WVHSRZ0M4lgj38Dvmc9x/GuSwk1JLvSuWMSDjgsv8clpSowsbsRvsu6IqPQU9pWvwTrVIPy4UHfZdKp8eIt6xS/PdLsrtcsmvG3lDWVUtGjSV9uI9JNWxDd3gjZKh7Mtxk/RRyhl8L5/Hhf26MpLFPx0BnwTii2eHXTbuHYK3kmBc05ZKV3/iT4Drwk7t8MlVOWfGE0AUJuUUXjp0bkbPja8qJPimDtFtNDxt2bQKcMZW+WSndkU1tX5pf60pMyrokXM5KHglJ3+YGOoS+7Fn0dpTtCHFITfVBriTCNaSNPc5oRqiYxSsUKujlZ0wfuZ4HDGMd7QMFe9aVRyEEGcsim1VeMevHct5CyFre1izZly+PXgjW7PRxDbYKofh0D3j96r5CQBFSuOOwNM2J5FdWx+2hjbYBFwpgAbIYUe60Gg4QNmJlAOQJgVaQTS/sbTeR36+lZEeAagueOsGff3G6pTlvY5U=
